package ca.mcgill.ecse211.lab4;

import static ca.mcgill.ecse211.lab4.Resources.TRACK;
import static ca.mcgill.ecse211.lab4.Resources.US_SENSOR;
import static ca.mcgill.ecse211.lab4.Resources.WHEEL_RAD;
import lejos.hardware.ev3.LocalEV3;
import lejos.hardware.port.Port;
import lejos.hardware.sensor.EV3ColorSensor;
import lejos.hardware.sensor.SensorModes;
import lejos.robotics.SampleProvider;

public class LightLocalizer {

  private static final Port colourSampler = LocalEV3.get().getPort("S2");
  private SensorModes colourSamplerSensor = new EV3ColorSensor(colourSampler);
  private SampleProvider colourSensorValue = colourSamplerSensor.getMode("Red");
  private float[] colourSensorValues = new float[colourSamplerSensor.sampleSize()];

  public void localize() {
    
  }
  
  public void goToOrigin() {
    
  }
  
  private float readColorData() {
    colourSensorValue.fetchSample(colourSensorValues, 0);
    return (colourSensorValues[0] * 1000);
  }

  private int distanceToRotations(double distance) {
    return (int) (180.0 * distance / (Math.PI * WHEEL_RAD));
  }

  private int radToDeg(double angle) {
    return distanceToRotations(TRACK * angle / 2);
  }

}
